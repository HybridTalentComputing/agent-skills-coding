# DeepWiki-Skill - 项目分析文档生成技能

让Claude能够系统地分析代码仓库并生成**完整的分章节文档集合**。

## 🎯 核心功能

这个skill让Claude能够：

1. **系统化分析** - 按照完整的4层次分析框架
2. **DeepResearch多轮研究** - 深入研究复杂主题的5轮迭代方法论
3. **识别模式** - 自动识别架构模式和设计模式
4. **生成多文档集合** - 创建独立的markdown文档，每个专注一个主题
5. **交叉引用** - 文档之间相互链接，形成知识网络

## 📚 生成的文档集合

### 核心文档（必须生成）

```
docs/
├── README.md           # 项目概览和快速开始
├── ARCHITECTURE.md     # 系统架构和设计决策
├── API.md              # API参考文档
├── DEVELOPMENT.md      # 开发指南
└── DEPLOYMENT.md       # 部署指南
```

### 专门文档（按需生成）

```
docs/
├── COMPONENTS.md       # 组件目录和详情
├── DATA-MODELS.md      # 数据模式和关系
├── CONFIGURATION.md    # 配置选项
├── TESTING.md          # 测试策略
└── TROUBLESHOOTING.md  # 常见问题
```

## 📊 每个文档的内容

### README.md

- 项目简介（1-2段）
- 核心功能列表
- 快速开始
- 技术栈概览
- 文档导航链接

### ARCHITECTURE.md

- 高层架构图（Mermaid）
- 架构模式
- 技术选型理由
- 组件关系图
- 数据流
- 部署架构
- 可扩展性设计

### API.md

- 基础URL和版本
- 认证方式
- 所有端点（按资源分组）
- 请求/响应示例
- 错误代码
- 速率限制
- SDK和库

### DEVELOPMENT.md

- 环境搭建
- 项目结构
- 开发工作流
- 代码规范
- 测试
- 调试
- 贡献指南

### DEPLOYMENT.md

- 部署选项
- 环境配置
- 构建步骤
- 监控
- 扩展
- 备份和恢复
- 回滚程序

### COMPONENTS.md

- 组件列表
- 组件职责
- 依赖关系
- 组件图
- 使用示例

### DATA-MODELS.md

- 实体关系图（Mermaid ER图）
- 数据库模式
- 验证规则
- 数据流
- 索引优化

## 🎓 分析方法论

### 4层次分析框架

**Level 1: 快速扫描** (5-15分钟)
- 读取README
- 扫描文件树
- 识别技术栈
- 定位入口点

**Level 2: 结构分析** (30-60分钟)
- 映射目录结构
- 识别架构模式
- 追踪数据流
- 记录组件

**Level 3: 详细分析** (2-4小时)
- 分析核心模块
- 研究数据模型
- 审查接口
- 检查配置

**Level 4: 综合文档** (4-8小时)
- 生成所有核心文档
- 创建架构图
- 编写使用指南
- 完善开发文档

### DeepResearch 多轮研究方法论

借鉴DeepWiki-Open的核心方法，用于深入研究复杂主题：

**第1轮：研究计划**
- 开始时使用 "## Research Plan"
- 概述研究方法
- 识别需要研究的关键方面
- 提供基于现有信息的初步发现
- 结尾使用 "## Next Steps" 指出下一步研究内容

**第2-4轮：渐进深化**
- 开始时使用 "## Research Update {N}"
- 回顾对话历史避免重复
- 聚焦需要深入研究的特定方面
- 提供之前未涉及的新见解
- 保持与前几轮研究的连续性

**第5轮：最终结论**
- 开始时使用 "## Final Conclusion"
- 综合前几轮的所有发现
- 提供全面、确定的答案
- 包含具体的代码引用和实现细节
- 以可操作的建议或推荐结束

**使用场景：**
- 用户请求全面分析
- 主题需要多个方面的覆盖
- 问题复杂或多面性
- 用户要求"深入分析"

## 💡 多文档结构优势

### 1. **更好的组织**

每个文档专注一个主题，读者可以快速找到需要的信息：
- 开发者看 DEVELOPMENT.md
- 运维看 DEPLOYMENT.md
- API用户看 API.md

### 2. **易于维护**

修改某个方面时，只需更新相关文档：
- 新增API → 更新 API.md
- 架构变更 → 更新 ARCHITECTURE.md
- 新增功能 → 更新 COMPONENTS.md

### 3. **清晰的依赖关系**

文档之间有明确的引用关系：
```
README.md → 链接到所有其他文档
ARCHITECTURE.md → 引用 COMPONENTS.md, DATA-MODELS.md
DEVELOPMENT.md → 引用 TESTING.md
```

### 4. **独立的版本控制**

每个文档可以独立更新：
- 核心文档（v1.0）保持稳定
- 专门文档（v0.9）持续完善
- 不同文档可以有不同的更新频率

## 🚀 使用方式

### 触发场景

用户说以下任何内容时，Claude会使用此skill：

- "分析这个项目并生成完整文档"
- "为这个代码库创建文档集合"
- "生成这个项目的架构、API和开发文档"

### 输出示例

Claude会创建一个`docs/`目录：

```bash
docs/
├── README.md           # 项目概述
├── ARCHITECTURE.md     # 架构设计（含多个Mermaid图）
├── API.md              # 完整API参考（所有端点）
├── COMPONENTS.md       # 组件目录（组件详细说明）
├── DATA-MODELS.md      # 数据模式（ER图）
├── DEVELOPMENT.md      # 开发指南（设置+规范）
└── DEPLOYMENT.md       # 部署指南（多种部署方式）
```

## 📁 技能结构

```
deepwiki-skill/
├── SKILL.md                                    # 核心指南（含DeepResearch方法论）
├── references/                                 # 参考资源
│   ├── analysis_framework.md                   # 4层次分析方法
│   ├── code_patterns.md                        # 模式识别指南
│   ├── documentation_standards.md             # 文档编写标准
│   └── deep_research_prompts.md                # DeepResearch提示模板（新）
├── assets/
│   ├── document_templates/                    # 多文档模板
│   │   ├── README.md                          # 项目概览模板
│   │   ├── ARCHITECTURE.md                    # 架构文档模板
│   │   ├── API.md                             # API文档模板
│   │   ├── DEVELOPMENT.md                     # 开发指南模板
│   │   └── DEPLOYMENT.md                      # 部署指南模板
│   └── report_templates/                       # 单报告模板（备用）
│       ├── web_application.md
│       └── api_service.md
└── README.md                                   # 使用说明
```

## ✅ 与之前的区别

| 之前的版本 | 现在的版本 |
|----------|----------|
| 单一报告结构 | **多文档集合** |
| 所有内容混在一起 | **每个文档专注一个主题** |
| 一个大文件 | **10个独立markdown文件** |
| 难以维护 | **易于更新和扩展** |
| 没有文档组织 | **清晰的文档分类和引用** |

## 🎨 实际应用示例

### 场景1: Web应用分析

Claude会生成：
- README.md - 项目简介
- ARCHITECTURE.md - 前后端架构图
- API.md - REST API文档
- DEVELOPMENT.md - React+Node开发指南
- DEPLOYMENT.md - Docker部署指南
- COMPONENTS.md - React组件目录
- DATA-MODELS.md - 数据库ER图

### 场景2: API服务分析

Claude会生成：
- README.md - API服务概述
- ARCHITECTURE.md - 微服务架构
- API.md - 所有端点详细文档
- DEVELOPMENT.md - API开发规范
- DEPLOYMENT.md - K8s部署指南
- TESTING.md - API测试策略

## 📖 参考资源

### 分析框架

- **4层次分析** - 从快速扫描到综合文档
- **时间估算** - 不同规模项目的时间分配
- **优先级矩阵** - 什么该深入，什么该略过

### 代码模式识别

- **架构模式** - MVC、微服务、事件驱动等
- **设计模式** - 单例、工厂、观察者等
- **Web应用模式** - REST、GraphQL、SSR等

### 文档标准

- **写作原则** - 清晰、简洁、准确
- **结构指南** - 每个文档的章节安排
- **质量检查清单** - 完成度验证

## 🎯 关键特性

### 1. 完整的文档体系

不只是单一报告，而是**完整的文档网站**级别的结构。

### 2. 专业的模板

每个文档类型都有专门的模板，包含：
- 预定义的章节结构
- Mermaid图表占位符
- 交叉引用说明
- 实用的示例代码

### 3. 系统化的方法论

不是随意的分析，而是：
- 明确的分析阶段
- 清晰的交付物
- 可验证的质量标准

### 4. 实用的指导

- 代码阅读策略
- 模式识别技巧
- 常见陷阱避免
- 质量保证清单

## 📦 安装和使用

### 安装

将 `deepwiki-skill.skill` 复制到Claude的skills目录：

```bash
# Linux/Mac
cp deepwiki-skill.skill ~/.claude/skills/

# Windows
copy deepwiki-skill.skill %USERPROFILE%\.claude\skills\
```

### 使用示例

**简单请求：**
```
请分析当前目录的项目，生成完整文档集合
```

**详细请求：**
```
请深入分析这个项目：
1. 生成完整的架构文档（包含多个Mermaid图）
2. 创建详细的API参考
3. 编写开发者指南
4. 提供部署指南
```

**特定文档：**
```
请为这个项目生成架构文档和API文档
```

## 🔑 与DeepWiki-Open的对比

| 方面 | DeepWiki-Open | deepwiki-skill |
|------|----------------|----------------|
| **输出** | 交互式Wiki网站 | 静态Markdown文档集合 |
| **实现** | 完整的Web应用 | Claude的分析能力 |
| **部署** | 需要服务器 | 无需部署 |
| **动态性** | RAG检索问答 | 静态文档（但可更新） |
| **使用场景** | 持续查询文档 | 一次性分析+文档化 |

## 💼 适用场景

### 项目文档化

- **新项目** → 建立完整文档体系
- **遗留项目** → 补充缺失的文档
- **重构项目** → 更新架构文档
- **开源项目** → 生成社区文档

### 团队协作

- **新成员入职** → 快速了解项目
- **知识传递** → 系统化的文档
- **技术评审** → 架构决策记录
- **代码审查** → 设计参考

### 项目管理

- **项目交接** → 完整的文档包
- **供应商交付** → 可交付的文档
- **审计准备** → 技术文档
- **客户汇报** → 架构和设计文档

## 🎉 总结

这个skill让Claude变成一个**专业的技术文档撰写专家**，能够：

1. ✅ **系统化分析** - 遵循完整的分析框架
2. ✅ **生成多文档** - 创建独立的markdown文件
3. ✅ **组织良好** - 清晰的分类和交叉引用
4. ✅ **质量保证** - 遵循文档编写标准
5. ✅ **可视化** - 自动生成Mermaid架构图
6. ✅ **实用性强** - 每个文档都可以直接使用

**不再生成单一的庞大报告，而是创建专业级的文档集合！** 📚

---

**基于DeepWiki-Open的分析思想，专为Claude设计** 🚀
